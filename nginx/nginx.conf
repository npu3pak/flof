worker_processes  1;

events {
    worker_connections 1024;
}

http {
    include mime.types;
    default_type application/octet-stream;
    send_timeout 1800;
    sendfile on;
    keepalive_timeout 6500;

    upstream dl_google_proxy {
        server 172.16.0.2:8081;
    }
    server {
        listen 443 ssl;
        server_name dl.google.com;

        ssl_certificate certs/dl.google.com.crt;
        ssl_certificate_key certs/dl.google.com.key;

        location / {
            proxy_pass http://172.16.0.2:8081/repository/mobile-dl-google-com/;
            proxy_set_header Host dl.google.com;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            proxy_set_header X-Forwarded-Proto $scheme;
        }
    }
    
    server {
        listen 443 ssl;
        server_name repo.maven.apache.org;

        ssl_certificate certs/repo.maven.apache.org.crt;
        ssl_certificate_key certs/repo.maven.apache.org.key;

        location / {
            proxy_pass http://172.16.0.2:8081/repository/mobile-repo-maven-apache-org/;
            proxy_set_header Host repo.maven.apache.org;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            proxy_set_header X-Forwarded-Proto $scheme;
        }
    }
    
    server {
        listen 443 ssl;
        server_name repo1.maven.org;

        ssl_certificate certs/repo1.maven.org.crt;
        ssl_certificate_key certs/repo1.maven.org.key;

        location / {
            proxy_pass http://172.16.0.2:8081/repository/mobile-repo1-maven-org/;
            proxy_set_header Host repo1.maven.org;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            proxy_set_header X-Forwarded-Proto $scheme;
        }
    }
    
    server {
        listen 443 ssl;
        server_name maven.google.com;

        ssl_certificate certs/maven.google.com.crt;
        ssl_certificate_key certs/maven.google.com.key;

        location / {
            proxy_pass http://172.16.0.2:8081/repository/mobile-maven-google-com/;
            proxy_set_header Host maven.google.com;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            proxy_set_header X-Forwarded-Proto $scheme;
        }
    }
    
    server {
        listen 443 ssl;
        server_name plugins.gradle.org;

        ssl_certificate certs/plugins.gradle.org.crt;
        ssl_certificate_key certs/plugins.gradle.org.key;

        location / {
            proxy_pass http://172.16.0.2:8081/repository/mobile-plugins-gradle-org/;
            proxy_set_header Host plugins.gradle.org;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            proxy_set_header X-Forwarded-Proto $scheme;
        }
    }
    
    server {
        listen 443 ssl;
        server_name developer.huawei.com;

        ssl_certificate certs/developer.huawei.com.crt;
        ssl_certificate_key certs/developer.huawei.com.key;

        location / {
            proxy_pass http://172.16.0.2:8081/repository/mobile-developer-huawei-com/;
            proxy_set_header Host developer.huawei.com;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            proxy_set_header X-Forwarded-Proto $scheme;
        }
    }
    
    server {
        listen 443 ssl;
        server_name jitpack.io;

        ssl_certificate certs/jitpack.io.crt;
        ssl_certificate_key certs/jitpack.io.key;

        location / {
            proxy_pass http://172.16.0.2:8081/repository/mobile-jitpack-io/;
            proxy_set_header Host jitpack.io;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            proxy_set_header X-Forwarded-Proto $scheme;
        }
    }
    
    server {
        listen 443 ssl;
        server_name artifactory-external.vkpartner.ru;

        ssl_certificate certs/artifactory-external.vkpartner.ru.crt;
        ssl_certificate_key certs/artifactory-external.vkpartner.ru.key;

        location / {
            proxy_pass http://172.16.0.2:8081/repository/mobile-artifactory-external-vkpartner-ru/;
            proxy_set_header Host artifactory-external.vkpartner.ru;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            proxy_set_header X-Forwarded-Proto $scheme;
        }
    }
    
    server {
        listen 443 ssl;
        server_name mvnrepository.com;

        ssl_certificate certs/mvnrepository.com.crt;
        ssl_certificate_key certs/mvnrepository.com.key;

        location / {
            proxy_pass http://172.16.0.2:8081/repository/mobile-mvnrepository-com/;
            proxy_set_header Host mvnrepository.com;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            proxy_set_header X-Forwarded-Proto $scheme;
        }
    }
    
    server {
        listen 443 ssl;
        server_name services.gradle.org;

        ssl_certificate certs/services.gradle.org.crt;
        ssl_certificate_key certs/services.gradle.org.key;

        location / {
            proxy_pass http://172.16.0.2:8081/repository/mobile-services-gradle-org/;
            proxy_set_header Host services.gradle.org;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            proxy_set_header X-Forwarded-Proto $scheme;
        }
    }
    
}
